# r/Pikabu Feed Bot

**Disclaimer**

Да, я знаю, что код попахивает, что это делается не так, не тем и не на том.

### Что это?

Новый Пикабу прекрасен и всё такое, но без фильтра уже прочитанных сообщений не понятно что читать, а что пролистывать.

Сторонние клиенты всем хороши, там можно скрывать сообщения, но при их использовании что-то пошло не так, да и вообще
все они обладают одним [ФАТАЛЬНЫМ НЕДОСТАТКОМ](http://lurkmore.to/%D0%A4%D0%B0%D1%82%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D0%BD%D0%B5%D0%B4%D0%BE%D1%81%D1%82%D0%B0%D1%82%D0%BE%D0%BA)

Короче, на данный момент, этот бот получает горячие посты с r/Pikabu, сверяется со списком и отправляет все новые
в канал телеги [@rpikabufeed_nsfw](https://t.me/rpikabufeed_nsfw). Проверка идет раз в 5 минут.

### Возникшие проблемы

* Я не знаю как правильно вставить в сообщение видео с YouTube, что бы его сразу можно было посмотреть.
* Видео с Reddit, а так же гифки показываются нормально, но подозреваю, что кроме этих источников есть и другие,
их нужно так же как-то обрабатывать. Осталось только найти полный список всех возможных вариантов.
* Слишком большие картинки TG не пропускает, их надо пережимать и отдавать напрямую. А это надо написать )
* Кривой код. см. disclaimer

### Ответы на вопросы

* **это не твои посты, не надо на нас пиариться / зарабатывать etc** если сообществу не понравится - не вопрос,
 удалю и заведу себе отдельный скрытый канал )
* **хочу что-то добавить / изменить / переписать** мы на гитхабе, форк и пуллреквест наше всё
* **хочу клонировать репу и запустить свой бот, с шахматами и лицеистками** - мы на гитхабе и далее по тексту

p.s. as is, mit, opensource и всё такое.

### Скучное

```
* * * * * cd /path/to/project && ./cron 1>> /dev/null 2>&1
```

В .env нужно указать token бота и при необходимости - proxy url (см. доку к guzzlehttp)
